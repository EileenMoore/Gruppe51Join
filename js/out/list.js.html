<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: list.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: list.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * This function display the tasks in the list
 */
async function generateListItem() {
    await loadAllTasks();
    showHTML();
}

function showHTML() {
    for (i = 0; i &lt; allTasks.length; i++) {
        let task = allTasks[i];

        document.getElementById("taskdelegate").innerHTML += `
        &lt;div class="task-listed ${allTasks[i].section}">
            &lt;div class="list-first-line">
                &lt;div class="assigned-content">${generateImgRow(allTasks[i])}&lt;/div>
                &lt;div class="list-column">
                    &lt;div class="titleAndCategories">
                        &lt;div class="title-content">${allTasks[i]["title"]}&lt;/div>
                        &lt;div class="category-content">${allTasks[i]["category"]}&lt;/div>
                    &lt;/div>
                    &lt;div class="details-content">${allTasks[i]["description"]}&lt;/div>
                &lt;/div>
                &lt;div class="deleteList">
                    &lt;img title="delete" class="delete-img" src="img/delete.svg" onclick="openDeleteWindowList(${
                    task["id"]
                    })">
                &lt;/div>
            &lt;/div>
        &lt;/div>`;
    }
}

/**
 * This function generates the details of the current user
 * @param {string} task
 */
function generateImgRow(task) {
    let html = "";
    for (let j = 0; j &lt; task.assignedPeople.length; j++) {
        const asignee = task.assignedPeople[j];

        html += `&lt;div class = "assignee-section">&lt;div class="assigned-img">&lt;img src="${asignee.profilePicture}">&lt;/div>
        &lt;div class="contact-data-section">&lt;div>${asignee.username}&lt;br>${asignee.email}&lt;/div>&lt;/div>&lt;/div>`;
    }
    return html;
}

/**
 * This function is used to open the delete window in the list.
 *
 *
 * @param {number} taskId - This is the ID of the selected task.
 */
function openDeleteWindowList(taskId) {
    document.getElementById("delete-container-list").classList.remove("d-none");

    document.getElementById("delete-container-list").innerHTML = `
    &lt;div class="delete-window">
        &lt;span>Do you really want to delete this task?&lt;/span>
            &lt;div class="button-order">
                &lt;button onclick="deleteTaskList(${taskId})" class="btn btn-primary">Yes&lt;/button>
                &lt;button onclick="closeDeleteWindowList()" class="btn btn-primary">No&lt;/button>
            &lt;/div>
    &lt;/div>`;
}

/**
 * This function is used to close the delete window.
 */
function closeDeleteWindowList() {
    document.getElementById("delete-container-list").classList.add("d-none");
}

/**
 * This function deletes a task.
 *
 *
 * @param {string} task - This is the task to be deleted.
 */
function deleteTaskList(taskId) {
    allTasks = allTasks.filter((t) => t["id"] != taskId);
    backend.setItem("allTasks", JSON.stringify(allTasks));
    closeDeleteWindowList();
    document.getElementById("taskdelegate").innerHTML = "";
    showHTML();
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addPersonBlend">addPersonBlend</a></li><li><a href="global.html#addUser">addUser</a></li><li><a href="global.html#allowDrop">allowDrop</a></li><li><a href="global.html#blendCurrentUser">blendCurrentUser</a></li><li><a href="global.html#cancelTask">cancelTask</a></li><li><a href="global.html#checkIfLoginIsCorrect">checkIfLoginIsCorrect</a></li><li><a href="global.html#checkIfUserIsAlreadySelected">checkIfUserIsAlreadySelected</a></li><li><a href="global.html#clearMatrixFields">clearMatrixFields</a></li><li><a href="global.html#clearSubTasks">clearSubTasks</a></li><li><a href="global.html#closeDeleteWindow">closeDeleteWindow</a></li><li><a href="global.html#closeDeleteWindowList">closeDeleteWindowList</a></li><li><a href="global.html#closeRegistration">closeRegistration</a></li><li><a href="global.html#createTask">createTask</a></li><li><a href="global.html#dateSelected">dateSelected</a></li><li><a href="global.html#deleteTask">deleteTask</a></li><li><a href="global.html#deleteTaskList">deleteTaskList</a></li><li><a href="global.html#displaySelectedUsers">displaySelectedUsers</a></li><li><a href="global.html#displayUsers">displayUsers</a></li><li><a href="global.html#drag">drag</a></li><li><a href="global.html#drop">drop</a></li><li><a href="global.html#findProfile">findProfile</a></li><li><a href="global.html#generateImageRow">generateImageRow</a></li><li><a href="global.html#generateImgRow">generateImgRow</a></li><li><a href="global.html#generateListItem">generateListItem</a></li><li><a href="global.html#generateTask">generateTask</a></li><li><a href="global.html#generateUser">generateUser</a></li><li><a href="global.html#generateUserLogin">generateUserLogin</a></li><li><a href="global.html#getUserPicker">getUserPicker</a></li><li><a href="global.html#hideOldProfilePicture">hideOldProfilePicture</a></li><li><a href="global.html#inFourDays">inFourDays</a></li><li><a href="global.html#insertTasks">insertTasks</a></li><li><a href="global.html#loadAllUsers">loadAllUsers</a></li><li><a href="global.html#loadCurrentUser">loadCurrentUser</a></li><li><a href="global.html#loadJSONFromServer">loadJSONFromServer</a></li><li><a href="global.html#loadProfilePicture">loadProfilePicture</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#loginCurrentUser">loginCurrentUser</a></li><li><a href="global.html#logOutCurrentUser">logOutCurrentUser</a></li><li><a href="global.html#moveTo">moveTo</a></li><li><a href="global.html#newTask">newTask</a></li><li><a href="global.html#openDeleteWindow">openDeleteWindow</a></li><li><a href="global.html#openDeleteWindowList">openDeleteWindowList</a></li><li><a href="global.html#openRegistration">openRegistration</a></li><li><a href="global.html#performDropTask">performDropTask</a></li><li><a href="global.html#pickOnlyfutureDays">pickOnlyfutureDays</a></li><li><a href="global.html#readURL">readURL</a></li><li><a href="global.html#removePerson">removePerson</a></li><li><a href="global.html#removePersonBlend">removePersonBlend</a></li><li><a href="global.html#saveCurrentUserInLocalStorage">saveCurrentUserInLocalStorage</a></li><li><a href="global.html#saveJSONToServer">saveJSONToServer</a></li><li><a href="global.html#selectOnlyThreeCategories">selectOnlyThreeCategories</a></li><li><a href="global.html#selectUser">selectUser</a></li><li><a href="global.html#showNewProfilePicture">showNewProfilePicture</a></li><li><a href="global.html#signUp">signUp</a></li><li><a href="global.html#sortAssignePeople">sortAssignePeople</a></li><li><a href="global.html#sortDelegateTasks">sortDelegateTasks</a></li><li><a href="global.html#sortDoTasks">sortDoTasks</a></li><li><a href="global.html#sortEliminateTasks">sortEliminateTasks</a></li><li><a href="global.html#sortScheduleTasks">sortScheduleTasks</a></li><li><a href="global.html#sortTasks">sortTasks</a></li><li><a href="global.html#taskSubmission">taskSubmission</a></li><li><a href="global.html#today">today</a></li><li><a href="global.html#updateDelegateSection">updateDelegateSection</a></li><li><a href="global.html#updateDoSection">updateDoSection</a></li><li><a href="global.html#updateEliminateSection">updateEliminateSection</a></li><li><a href="global.html#updateScheduleSection">updateScheduleSection</a></li><li><a href="global.html#updateUandIandDate">updateUandIandDate</a></li><li><a href="global.html#updateUrgency">updateUrgency</a></li><li><a href="global.html#validateCategories">validateCategories</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sat Feb 27 2021 16:31:15 GMT+0100 (Mitteleurop√§ische Normalzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
